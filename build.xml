<property name="doc.dir" 						value="${basedir}/javadoc"/>
	<property name="src.dir" 						value="${basedir}/src"/>
	<property name="props.dir"						value="${basedir}/resources/properties"/>
	<property name="build.dir"						value="${basedir}/build"/>
	<property name="lib.dir" 						value="${basedir}/lib"/>


<path id="build.classpath">
		<fileset dir="${basedir}/deploy/${ear.file}/lib">
			<include name="**/*.jar"/>
		</fileset>
		<fileset dir="${jboss.configured.lib.path}">
			<include name="**/*.jar"/>
		</fileset>
		<fileset dir="${jboss.clients.path}">
			<include name="**/*.jar"/>
		</fileset>
	</path>


<!-- ***************-->
<!-- * Clean       *-->
<!-- ***************-->

<target name="clean">
		<delete dir="${build.dir}" />
		<delete dir="${build.dir}/jars"/>
		<delete dir="${build.dir}/openscope"/>
	</target>


<!-- *************** -->  
<!-- * Preparation * -->  
<!-- *************** -->  
  
<target name="prepare" depends="clean">  
    <mkdir dir="${build.dir}"/>  
    <mkdir dir="${build.dir}/jars"/>  
    <mkdir dir="${build.dir}/openscope"/>  
</target> 

<!-- *************** -->  
<!-- * Compilation * -->  
<!-- *************** -->    
  
<target name="compile" depends="prepare">  
    <javac destdir="${build.dir}/openscope"  
            debug="on"  
            deprecation="on"  
            optimize="off">  
        <src path="${src.dir}"/>  
    <classpath refid="build.classpath"/>  
    </javac>  
  
    <copy todir="${build.dir}/openscope">  
        <fileset dir="${props.dir}">  
            <include name="*.properties"/>  
        </fileset>  
    </copy>  
</target> 

<target name="doc-prepare">
		<mkdir dir="${build.dir}"/>
		<mkdir dir="${doc.dir}"/>
	</target>
		
	<target name="javadoc" depends="doc-prepare">
		<javadoc packagenames="com.openscope.groupware.*"
				 classpathref="build.classpath"
	             sourcepath="${src.dir}"
	             destdir="${doc.dir}"
	             author="true"
	             version="true"
	             windowtitle="Openscope API"
	             doctitle="Openscope Reminders"
	             bottom="Copyright Â© 2010 Openscope, Inc. All Rights Reserved."
		/>
	</target>


<target name="build-war" depends="package-logic">

		<jar jarfile="${build.dir}/jars/${war.file}" basedir="${basedir}/deploy/${ear.file}/${war.file}"/>

	</target>
